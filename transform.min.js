!function(t,i){"use strict";!function(){for(var i=0,s=["webkit","moz"],a=0;a<s.length&&!t.requestAnimationFrame;++a)t.requestAnimationFrame=t[s[a]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[s[a]+"CancelAnimationFrame"]||t[s[a]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(s,a){var n=(new Date).getTime(),e=Math.max(0,16-(n-i)),r=t.setTimeout(function(){s(n+e)},e);return i=n+e,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var s=function(){var s=i.createElement("div"),a=s.style,n=i.body,e=["webkit","Moz","ms","O"],r=0,h=e.length,o=function(t){return t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})},c=function(t){var i=o(t);if(i in a)return i;for(r=0;h>r;r++)if(i=o(e[r]+"-"+t),i in a)return i;return null},u=function(){var t,i;return n.appendChild(s),i=c("transform"),s.style[i]="translate3d(1px,1px,1px)",t=getComputedStyle(s,null)[i],n.removeChild(s),void 0!==t&&t.length>0&&"none"!==t},m=function(i,s){var a=t.requestAnimationFrame(i,s);return a},f=function(i){t.cancelAnimationFrame(i)};return{prefix:c,support3d:u,setTimeout:m,clearTimeout:f}}(),a=s.prefix("transform"),n=s.support3d(),e=function(t,i){return i=Math.pow(10,i||15),Math.round(t*i)/i},r=function(t,i,s){Object.defineProperty(t,i,{get:function(){return this["__"+i]},set:function(t){t!==this["__"+i]&&(this["__"+i]=t,s())}})},h=function(t,i,s){for(var a=0,n=i.length;n>a;a++)r(t,i[a],s)},o=function(){this.matrix2d=[1,0,0,1,0,0],this.reset=function(){return this.basis=[1,0,0,0,1,0,0,0,1],this},this.matrix=function(t){var i=this.basis,s=t,a=i[0],n=i[1],e=i[2],r=i[3],h=i[4],o=i[5],c=i[6],u=i[7],m=i[8],f=s[0],l=s[3],d=s[6],b=s[1],x=s[4],_=s[7],g=s[2],p=s[5],v=s[8];return this.basis[0]=a*f+n*l+e*d,this.basis[1]=a*b+n*x+e*_,this.basis[2]=a*g+n*p+e*v,this.basis[3]=r*f+h*l+o*d,this.basis[4]=r*b+h*x+o*_,this.basis[5]=r*g+h*p+o*v,this.basis[6]=c*f+u*l+m*d,this.basis[7]=c*b+u*x+m*_,this.basis[8]=c*g+u*p+m*v,this.matrix2d[0]=this.basis[0],this.matrix2d[1]=this.basis[3],this.matrix2d[2]=this.basis[1],this.matrix2d[3]=this.basis[4],this.matrix2d[4]=this.basis[2],this.matrix2d[5]=this.basis[5],this},this.watch=function(t,i,s,a,n,r,h,o){var c=Math.PI/180,u=h*c||o*c,m=e(Math.cos(u)),f=e(Math.sin(u)),l=e(Math.tan(n*c)),d=e(Math.tan(r*c));return(t||i)&&this.matrix([1,0,t,0,1,i,0,0,1]),(s||a)&&this.matrix([s,0,0,0,a,0,0,0,1]),(n||r)&&this.matrix([1,l,0,d,1,0,0,0,1]),(h||o)&&this.matrix([m,-f,0,f,m,0,0,0,1]),this}},c=function(){this.matrix3d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.reset=function(){return this.basis=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this},this.matrix=function(t){var i=this.basis,s=t,a=i[0],n=i[1],e=i[2],r=i[3],h=i[4],o=i[5],c=i[6],u=i[7],m=i[8],f=i[9],l=i[10],d=i[11],b=i[12],x=i[13],_=i[14],g=i[15],p=s[0],v=s[4],w=s[8],X=s[12],Y=s[1],M=s[5],k=s[9],$=s[13],y=s[2],A=s[6],Z=s[10],F=s[14],T=s[3],q=s[7],C=s[11],D=s[15];return this.basis[0]=a*p+n*v+e*w+r*X,this.basis[1]=a*Y+n*M+e*k+r*$,this.basis[2]=a*y+n*A+e*Z+r*F,this.basis[3]=a*T+n*q+e*C+r*D,this.basis[4]=h*p+o*v+c*w+u*X,this.basis[5]=h*Y+o*M+c*k+u*$,this.basis[6]=h*y+o*A+c*Z+u*F,this.basis[7]=h*T+o*q+c*C+u*D,this.basis[8]=m*p+f*v+l*w+d*X,this.basis[9]=m*Y+f*M+l*k+d*$,this.basis[10]=m*y+f*A+l*Z+d*F,this.basis[11]=m*T+f*q+l*C+d*D,this.basis[12]=b*p+x*v+_*w+g*X,this.basis[13]=b*Y+x*M+_*k+g*$,this.basis[14]=b*y+x*A+_*Z+g*F,this.basis[15]=b*T+x*q+_*C+g*D,this.matrix3d[0]=this.basis[0],this.matrix3d[1]=this.basis[4],this.matrix3d[2]=this.basis[8],this.matrix3d[3]=this.basis[12],this.matrix3d[4]=this.basis[1],this.matrix3d[5]=this.basis[5],this.matrix3d[6]=this.basis[9],this.matrix3d[7]=this.basis[13],this.matrix3d[8]=this.basis[2],this.matrix3d[9]=this.basis[6],this.matrix3d[10]=this.basis[10],this.matrix3d[11]=this.basis[14],this.matrix3d[12]=this.basis[3],this.matrix3d[13]=this.basis[7],this.matrix3d[14]=this.basis[11],this.matrix3d[15]=this.basis[15],this},this.watch=function(t,i,s,a,n,r,h,o,c,u,m,f){var l=Math.PI/180,d=h*l,b=e(Math.cos(d)),x=e(Math.sin(d)),_=o*l,g=e(Math.cos(_)),p=e(Math.sin(_)),v=c*l||u*l,w=e(Math.cos(v)),X=e(Math.sin(-v)),Y=e(Math.tan(m*l)),M=e(Math.tan(f*l));return(t||i||s)&&this.matrix([1,0,0,t,0,1,0,i,0,0,1,s,0,0,0,1]),(a||n||r)&&this.matrix([a,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1]),h&&this.matrix([1,0,0,0,0,b,x,0,0,-x,b,0,0,0,0,1]),o&&this.matrix([g,0,p,0,0,1,0,0,-p,0,g,0,0,0,0,1]),(c||u)&&this.matrix([w,X,0,0,-X,w,0,0,0,0,1,0,0,0,0,1]),(m||f)&&this.matrix([1,Y,0,0,M,1,0,0,0,0,1,0,0,0,0,1]),this}},u={guid:0,cache:{}};u.watch=function(t){if(!t.$watched){t.$watched||(t.$watched=!0);var i="center",s="center",e="0px";if(n){var r=new c;h(t,["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","rotate","skewX","skewY"],function(){r.reset().watch(t.translateX,t.translateY,t.translateZ,t.scaleX,t.scaleY,t.scaleZ,t.rotateX,t.rotateY,t.rotateZ,t.rotate,t.skewX,t.skewY),t.style[a]="matrix3d("+r.matrix3d.join(",")+")"})}else{var u=new o;h(t,["translateX","translateY","scaleX","scaleY","skewX","skewY","rotate","rotateZ"],function(){u.reset().watch(t.translateX,t.translateY,t.scaleX,t.scaleY,t.skewX,t.skewY,t.rotate,t.rotateZ),t.style[a]="matrix("+u.matrix2d.join(",")+")"})}h(t,["originX","originY","originZ"],function(){void 0!==t.originX&&(i=t.originX),void 0!==t.originY&&(s=t.originY),void 0!==t.originZ&&(e=t.originZ),t.style[a+"Origin"]=i+" "+s+" "+e}),t.scaleX=t.scaleY=t.scaleZ=1,t.translateX=t.translateY=t.translateZ=t.rotateX=t.rotateY=t.rotateZ=t.rotate=t.skewX=t.skewY=0}},u.animate=function(t,i,a){t.$watched||u.watch(t),u.cache[t]||(u.cache[t]=[]);var n=u.guid++,a=a||{},e=a.duration||400,r=a.ease||function(t){return t},h=a.change||function(){},o=a.callback||function(){},c=arguments;3===c.length?("number"==typeof c[2]&&(e=c[2]),"function"==typeof c[2]&&(o=c[2])):c.length>3&&("number"==typeof c[2]&&(e=c[2]),"function"==typeof c[3]&&(r=c[3]),"function"==typeof c[4]&&(o=c[4])),t["__"+n]||(t["__"+n]={});var m,f,l={};for(m in i)l.hasOwnProperty(m)||(l[m+"__start"]=t[m],l[m+"__end"]=i[m],l[m+"__change"]=i[m]-t[m]);var d=function(i,a,h){var o=Date.now();i&&i(),!function c(){var i=Date.now(),u=i-o,m=r(u/e);return a&&a(m),u>=e?(b(),void(h&&h())):void(t["__"+n].timer=s.setTimeout(c))}()},b=function(){s.clearTimeout(t["__"+n].timer),t["__"+n].timer=null};d(function(){t["__"+n].animated=!0,l.$guid=n,l.$props=i,l.$callback=o,u.cache[t].push(l)},function(s){for(var a in i)!function(i){f=l[i+"__start"]+s*l[i+"__change"],t[i]=f,h&&h(t,i,f)}(a)},function(){for(var s in i)!function(i){t[i]=l[i+"__end"]}(s);t["__"+n].animated=!1,delete t["__"+n],o&&o()})},u.stop=function(t,i){if(u.cache[t]&&!(u.cache[t].length<1)){for(var a=u.cache[t],n=a.length,e=0,r=null;n>e;e++)if(r=a[e],t["__"+r.$guid]&&t["__"+r.$guid].animated){if(s.clearTimeout(t["__"+r.$guid].timer),t["__"+r.$guid].timer=null,i){for(var h in r.$props)t[h]=r.$props[h];r.$callback&&r.$callback()}delete t["__"+r.$guid]}a.length=0}},u.stopAll=function(t){for(var i in u.cache)u.stop(i,t)},"function"==typeof define&&(define.amd||define.cmd)?define("Transform",[],function(){return u}):t.Transform=u}(window,document);